const{$__insertMany:$__insertMany}=require("mongoose/lib/model"),{toggleLike:toggleLike}=require("../../controllers/likes_controller"),{notify:notify}=require("../../routes");(function(e){let t=this;this.newCommentForm.submit(function(o){o.preventDefault();$.ajax({type:"post",url:"/comments/create",data:$(this).serialize(),success:function(o){let n=t.newCommentDom(o.data.comment);$(`#post-comments-${e}`).prepend(n),t.deleteComment($(" .deleted-comment-button",n)),new ToggleLike($(" .toggle-like-button",n)),new Noty({theme:"relax",text:"Comment published",type:"success",layout:"topRight",timeout:1500}).show()},error:function(e){console.log(e.responseText)}})})})();